<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="sJgro_9-KyRL3EkTM5KW84pQPrg2Fv1KdkibDRBIulE">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cloudolife.com","root":"/","scheme":"Muse","version":"8.0.0-rc.5","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-2}},"activeClass":"gitalk"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

<script data-ad-client="ca-pub-8693122033969144" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <meta name="description" content="acts_as_paranoidThe paper_trail gem is an ActiveRecord plugin tracking changes to your rails models. Track changes to your models, for auditing or versioning. See how a model looked at any stage in it">
<meta property="og:type" content="article">
<meta property="og:title" content="[Ruby on Rails (RoR)] Use ActiveRecord Plugin paper_trail gem to track changes to your rails models">
<meta property="og:url" content="https://cloudolife.com/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-paper_trai-geml-to-track-changes-to-your-Rails-models/index.html">
<meta property="og:site_name" content="Cloud-oriented Life">
<meta property="og:description" content="acts_as_paranoidThe paper_trail gem is an ActiveRecord plugin tracking changes to your rails models. Track changes to your models, for auditing or versioning. See how a model looked at any stage in it">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-08-29T00:00:00.000Z">
<meta property="article:modified_time" content="2021-02-24T15:08:47.648Z">
<meta property="article:author" content="CloudoLife">
<meta property="article:tag" content="Rails &#x2F; Ruby on Rails (RoR)">
<meta property="article:tag" content="Best practices">
<meta property="article:tag" content="Ruby">
<meta property="article:tag" content="Programming language">
<meta property="article:tag" content="Awesome Ruby Gem">
<meta property="article:tag" content="acts_as_paranoid">
<meta property="article:tag" content="ActiveRecord Plugin">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://cloudolife.com/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-paper_trai-geml-to-track-changes-to-your-Rails-models/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>[Ruby on Rails (RoR)] Use ActiveRecord Plugin paper_trail gem to track changes to your rails models | Cloud-oriented Life</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8Y9QPJWXQN"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8Y9QPJWXQN');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?995d7016a56cfd5c2ef6f2e6640a670e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Cloud-oriented Life" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Cloud-oriented Life</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Cloud Native Technology Improves Lives</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">234</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">86</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">95</span></a>

  </li>
        <li class="menu-item menu-item-rss">

    <a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about-us/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#acts-as-paranoid"><span class="nav-number">1.</span> <span class="nav-text">acts_as_paranoid</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Installation"><span class="nav-number">1.1.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Usage"><span class="nav-number">1.2.</span> <span class="nav-text">Usage</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Usage"><span class="nav-number">1.2.1.</span> <span class="nav-text">Basic Usage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#API-Summary"><span class="nav-number">1.2.2.</span> <span class="nav-text">API Summary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Configuration"><span class="nav-number">1.3.</span> <span class="nav-text">Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Global"><span class="nav-number">1.3.1.</span> <span class="nav-text">Global</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Working-With-Versions"><span class="nav-number">1.4.</span> <span class="nav-text">Working With Versions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Reverting-And-Undeleting-A-Model"><span class="nav-number">1.4.1.</span> <span class="nav-text">Reverting And Undeleting A Model</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Navigating-Versions"><span class="nav-number">1.4.2.</span> <span class="nav-text">Navigating Versions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Diffing-Versions"><span class="nav-number">1.4.3.</span> <span class="nav-text">Diffing Versions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Saving-More-Information-About-Versions"><span class="nav-number">1.4.4.</span> <span class="nav-text">Saving More Information About Versions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Storing-Metadata"><span class="nav-number">1.4.5.</span> <span class="nav-text">Storing Metadata</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Model-Metadata"><span class="nav-number">1.4.5.1.</span> <span class="nav-text">Model Metadata</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Metadata-from-Controllers"><span class="nav-number">1.4.5.2.</span> <span class="nav-text">Metadata from Controllers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Advantages-of-Metadata"><span class="nav-number">1.4.5.3.</span> <span class="nav-text">Advantages of Metadata</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References"><span class="nav-number">1.5.</span> <span class="nav-text">References</span></a></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CloudoLife</p>
  <div class="site-description" itemprop="description">Cloud Native Technology Improves Lives</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">95</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">86</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">234</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/CloudoLife" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CloudoLife" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/CloudoLife" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;CloudoLife" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener external nofollow noreferrer" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content post posts-expand">
          

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://cloudolife.com/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-paper_trai-geml-to-track-changes-to-your-Rails-models/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CloudoLife">
      <meta itemprop="description" content="Cloud Native Technology Improves Lives">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud-oriented Life">
    </span>

    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Ruby on Rails (RoR)] Use ActiveRecord Plugin paper_trail gem to track changes to your rails models
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-08-29 00:00:00" itemprop="dateCreated datePublished" datetime="2020-08-29T00:00:00+00:00">2020-08-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-24 15:08:47" itemprop="dateModified" datetime="2021-02-24T15:08:47+00:00">2021-02-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/" itemprop="url" rel="index"><span itemprop="name">Programming language</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/Ruby/" itemprop="url" rel="index"><span itemprop="name">Ruby</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/Ruby/Rails-Ruby-on-Rails-RoR/" itemprop="url" rel="index"><span itemprop="name">Rails / Ruby on Rails (RoR)</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/Ruby/Rails-Ruby-on-Rails-RoR/Awesome-Ruby-Gem/" itemprop="url" rel="index"><span itemprop="name">Awesome Ruby Gem</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>9.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>9 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="acts-as-paranoid"><a href="#acts-as-paranoid" class="headerlink" title="acts_as_paranoid"></a>acts_as_paranoid</h1><p>The paper_trail gem is an ActiveRecord plugin tracking changes to your rails models.</p>
<p>Track changes to your models, for auditing or versioning. See how a model looked at any stage in its lifecycle, revert it to any version, or restore it after it has been destroyed.</p>
<a id="more"></a>

<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>You can install it as a gem:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem install paper_trail</span></span><br></pre></td></tr></table></figure>

<p>or add it into a Gemfile (Bundler):</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># paper-trail-gem/paper_trail: Track changes to your rails models</span></span><br><span class="line"><span class="comment"># https://github.com/paper-trail-gem/paper_trail</span></span><br><span class="line">gem <span class="string">&#x27;paper_trail&#x27;</span>, <span class="string">&#x27;11.0.0&#x27;</span></span><br></pre></td></tr></table></figure>

<p>Then, run <code>bundle install</code>.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bundle install</span></span><br></pre></td></tr></table></figure>

<p>Add a versions table to your database:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle exec rails generate paper_trail:install [--with-changes]</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle exec rake db:migrate</span><br></pre></td></tr></table></figure>

<p>Add <code>has_paper_trail</code> to the models you want to track.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Widget</span> &lt; ActiveRecord::Base</span></span><br><span class="line">  has_paper_trail</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or inherit from ApplicationRecord</span></span><br><span class="line"><span class="comment"># class ApplicationRecord &lt; ActiveRecord::Base</span></span><br><span class="line"><span class="comment">#   self.abstract_class = true</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment">#   has_paper_trail</span></span><br><span class="line"><span class="comment"># end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># class User &lt; ApplicationRecord</span></span><br><span class="line"><span class="comment"># end</span></span><br></pre></td></tr></table></figure>

<p>If your controllers have a <code>current_user</code> method, you can easily track who is responsible for changes by adding a controller callback.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApplicationController</span></span></span><br><span class="line">  before_action <span class="symbol">:set_paper_trail_whodunnit</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h3><p>Your models now have a versions method which returns the “paper trail” of changes to your model.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">widget = Widget.find <span class="number">42</span></span><br><span class="line">widget.versions</span><br><span class="line"><span class="comment"># [&lt;PaperTrail::Version&gt;, &lt;PaperTrail::Version&gt;, ...]</span></span><br></pre></td></tr></table></figure>

<p>Once you have a version, you can find out what happened:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">v = widget.versions.last</span><br><span class="line">v.event <span class="comment"># &#x27;update&#x27;, &#x27;create&#x27;, &#x27;destroy&#x27;. See also: Custom Event Names</span></span><br><span class="line">v.created_at</span><br><span class="line">v.whodunnit <span class="comment"># ID of `current_user`. Requires `set_paper_trail_whodunnit` callback.</span></span><br><span class="line">widget = v.reify <span class="comment"># The widget as it was before the update (nil for a create event)</span></span><br></pre></td></tr></table></figure>

<p>PaperTrail stores the pre-change version of the model, unlike some other auditing/versioning plugins, so you can retrieve the original version. This is useful when you start keeping a paper trail for models that already have records in the database.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">widget = Widget.find <span class="number">153</span></span><br><span class="line">widget.name                                 <span class="comment"># &#x27;Doobly&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Add has_paper_trail to Widget model.</span></span><br><span class="line"></span><br><span class="line">widget.versions                             <span class="comment"># []</span></span><br><span class="line">widget.update <span class="symbol">name:</span> <span class="string">&#x27;Wotsit&#x27;</span></span><br><span class="line">widget.versions.last.reify.name             <span class="comment"># &#x27;Doobly&#x27;</span></span><br><span class="line">widget.versions.last.event                  <span class="comment"># &#x27;update&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="API-Summary"><a href="#API-Summary" class="headerlink" title="API Summary"></a>API Summary</h3><p>An introductory sample of common features.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Returns this widget&#x27;s versions.  You can customise the name of the</span></span><br><span class="line"><span class="comment"># association, but overriding this method is not supported.</span></span><br><span class="line">widget.versions</span><br><span class="line"></span><br><span class="line"><span class="comment"># Return the version this widget was reified from, or nil if it is live.</span></span><br><span class="line"><span class="comment"># You can customise the name of the method.</span></span><br><span class="line">widget.version</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns true if this widget is the current, live one; or false if it is from</span></span><br><span class="line"><span class="comment"># a previous version.</span></span><br><span class="line">widget.paper_trail.live?</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns who put the widget into its current state.</span></span><br><span class="line">widget.paper_trail.originator</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the widget (not a version) as it looked at the given timestamp.</span></span><br><span class="line">widget.paper_trail.version_at(timestamp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the widget (not a version) as it was most recently.</span></span><br><span class="line">widget.paper_trail.previous_version</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the widget (not a version) as it became next.</span></span><br><span class="line">widget.paper_trail.next_version</span><br><span class="line">And a PaperTrail::Version instance (which is just an ordinary ActiveRecord instance, with all the usual methods) has methods such <span class="symbol">as:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the item restored from this version.</span></span><br><span class="line">version.reify(options = &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Return a new item from this version</span></span><br><span class="line">version.reify(<span class="symbol">dup:</span> <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns who put the item into the state stored in this version.</span></span><br><span class="line">version.paper_trail_originator</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns who changed the item from the state it had in this version.</span></span><br><span class="line">version.terminator</span><br><span class="line">version.whodunnit</span><br><span class="line">version.version_author</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the next version.</span></span><br><span class="line">version.<span class="keyword">next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the previous version.</span></span><br><span class="line">version.previous</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the index of this version in all the versions.</span></span><br><span class="line">version.index</span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns the event that caused this version (create|update|destroy).</span></span><br><span class="line">version.event</span><br></pre></td></tr></table></figure>

<p>This is just a sample of common features. Keep reading for more.</p>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><p>Many aspects of PaperTrail are configurable for individual models; typically this is achieved by passing options to the has_paper_trail method within a given model.</p>
<p>Some aspects of PaperTrail are configured globally for all models. These settings are assigned directly on the PaperTrail.config object. A common place to put these settings is in a Rails initializer file such as <code>config/initializers/paper_trail.rb</code> or in an environment-specific configuration file such as <code>config/environments/test.rb</code>.</p>
<h3 id="Global"><a href="#Global" class="headerlink" title="Global"></a>Global</h3><p>Global configuration options affect all threads.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">association_reify_error_behaviour</span><br><span class="line">enabled</span><br><span class="line">has_paper_trail_defaults</span><br><span class="line">object_changes_adapter</span><br><span class="line">serializer</span><br><span class="line">version_limit</span><br></pre></td></tr></table></figure>

<p>Syntax example: (options described in detail later)</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># config/initializers/paper_trail.rb</span></span><br><span class="line">PaperTrail.config.enabled = <span class="literal">true</span></span><br><span class="line">PaperTrail.config.has_paper_trail_defaults = &#123;</span><br><span class="line">  <span class="symbol">on:</span> %i[create update destroy]</span><br><span class="line">&#125;</span><br><span class="line">PaperTrail.config.version_limit = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>These options are intended to be set only once, during app initialization (eg. in <code>config/initializers</code>). It is unsafe to change them while the app is running. In contrast, <code>PaperTrail.request</code> has various options that only apply to a single HTTP request and thus are safe to use while the app is running.</p>
<h2 id="Working-With-Versions"><a href="#Working-With-Versions" class="headerlink" title="Working With Versions"></a>Working With Versions</h2><h3 id="Reverting-And-Undeleting-A-Model"><a href="#Reverting-And-Undeleting-A-Model" class="headerlink" title="Reverting And Undeleting A Model"></a>Reverting And Undeleting A Model</h3><p>PaperTrail makes reverting to a previous version easy:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">widget = Widget.find <span class="number">42</span></span><br><span class="line">widget.update <span class="symbol">name:</span> <span class="string">&#x27;Blah blah&#x27;</span></span><br><span class="line"><span class="comment"># Time passes....</span></span><br><span class="line">widget = widget.paper_trail.previous_version  <span class="comment"># the widget as it was before the update</span></span><br><span class="line">widget.save                                   <span class="comment"># reverted</span></span><br></pre></td></tr></table></figure>

<p>Alternatively you can find the version at a given time:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">widget = widget.paper_trail.version_at(<span class="number">1</span>.day.ago)  <span class="comment"># the widget as it was one day ago</span></span><br><span class="line">widget.save                                        <span class="comment"># reverted</span></span><br></pre></td></tr></table></figure>

<p>Note version_at gives you the object, not a version, so you don’t need to call reify.</p>
<p>Undeleting is just as simple:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">widget = Widget.find(<span class="number">42</span>)</span><br><span class="line">widget.destroy</span><br><span class="line"><span class="comment"># Time passes....</span></span><br><span class="line">widget = Widget.new(<span class="symbol">id:</span><span class="number">42</span>)    <span class="comment"># creating a new object with the same id, re-establishes the link</span></span><br><span class="line">versions = widget.versions    <span class="comment"># versions ordered by versions.created_at, ascending</span></span><br><span class="line">widget = versions.last.reify  <span class="comment"># the widget as it was before destruction</span></span><br><span class="line">widget.save                   <span class="comment"># the widget lives!</span></span><br></pre></td></tr></table></figure>

<p>You could even use PaperTrail to implement an undo system; Ryan Bates has!</p>
<p>If your model uses optimistic locking don’t forget to increment your <code>lock_version</code> before saving or you’ll get a StaleObjectError.</p>
<h3 id="Navigating-Versions"><a href="#Navigating-Versions" class="headerlink" title="Navigating Versions"></a>Navigating Versions</h3><p>You can call previous_version and next_version on an item to get it as it was/became. Note that these methods <code>reify</code> the item for you.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">live_widget = Widget.find <span class="number">42</span></span><br><span class="line">live_widget.versions.length                       <span class="comment"># 4, for example</span></span><br><span class="line">widget = live_widget.paper_trail.previous_version <span class="comment"># =&gt; widget == live_widget.versions.last.reify</span></span><br><span class="line">widget = widget.paper_trail.previous_version      <span class="comment"># =&gt; widget == live_widget.versions[-2].reify</span></span><br><span class="line">widget = widget.paper_trail.next_version          <span class="comment"># =&gt; widget == live_widget.versions.last.reify</span></span><br><span class="line">widget.paper_trail.next_version                   <span class="comment"># live_widget</span></span><br></pre></td></tr></table></figure>

<p>If instead you have a particular version of an item you can navigate to the previous and next versions.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">widget = Widget.find <span class="number">42</span></span><br><span class="line">version = widget.versions[-<span class="number">2</span>]    <span class="comment"># assuming widget has several versions</span></span><br><span class="line">previous_version = version.previous</span><br><span class="line">next_version = version.<span class="keyword">next</span></span><br><span class="line">You can find out which of an item<span class="string">&#x27;s versions yours is:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">current_version_number = version.index    # 0-based</span></span><br></pre></td></tr></table></figure>

<p>If you got an item by reifying one of its versions, you can navigate back to the version it came from:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">latest_version = Widget.find(<span class="number">42</span>).versions.last</span><br><span class="line">widget = latest_version.reify</span><br><span class="line">widget.version == latest_version    <span class="comment"># true</span></span><br><span class="line">You can find out whether a model instance is the current, live one -- <span class="keyword">or</span> whether it came instead from a previous version -- with <span class="symbol">live?:</span></span><br><span class="line"></span><br><span class="line">widget = Widget.find <span class="number">42</span></span><br><span class="line">widget.live?                        <span class="comment"># true</span></span><br><span class="line">widget = widget.paper_trail.previous_version</span><br><span class="line">widget.live?                        <span class="comment"># false</span></span><br></pre></td></tr></table></figure>

<p>And you can perform WHERE queries for object versions based on attributes:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Find versions that meet these criteria.</span></span><br><span class="line">PaperTrail::Version.where_object(<span class="symbol">content:</span> <span class="string">&#x27;Hello&#x27;</span>, <span class="symbol">title:</span> <span class="string">&#x27;Article&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Find versions before and after attribute `atr` had value `v`:</span></span><br><span class="line">PaperTrail::Version.where_object_changes(<span class="symbol">atr:</span> <span class="string">&#x27;v&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>Using where_object_changes to read YAML from a text column was deprecated in 8.1.0, and will now raise an error.</p>
<h3 id="Diffing-Versions"><a href="#Diffing-Versions" class="headerlink" title="Diffing Versions"></a>Diffing Versions</h3><p>There are two scenarios: diffing adjacent versions and diffing non-adjacent versions.</p>
<p>The best way to diff adjacent versions is to get PaperTrail to do it for you. If you add an object_changes text column to your versions table, either at installation time with the rails generate paper_trail:install –with-changes option or manually, PaperTrail will store the changes diff (excluding any attributes PaperTrail is ignoring) in each update version. You can use the version.changeset method to retrieve it. For example:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">widget = Widget.create <span class="symbol">name:</span> <span class="string">&#x27;Bob&#x27;</span></span><br><span class="line">widget.versions.last.changeset</span><br><span class="line"><span class="comment"># &#123;</span></span><br><span class="line"><span class="comment">#   &quot;name&quot;=&gt;[nil, &quot;Bob&quot;],</span></span><br><span class="line"><span class="comment">#   &quot;created_at&quot;=&gt;[nil, 2015-08-10 04:10:40 UTC],</span></span><br><span class="line"><span class="comment">#   &quot;updated_at&quot;=&gt;[nil, 2015-08-10 04:10:40 UTC],</span></span><br><span class="line"><span class="comment">#   &quot;id&quot;=&gt;[nil, 1]</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line">widget.update <span class="symbol">name:</span> <span class="string">&#x27;Robert&#x27;</span></span><br><span class="line">widget.versions.last.changeset</span><br><span class="line"><span class="comment"># &#123;</span></span><br><span class="line"><span class="comment">#   &quot;name&quot;=&gt;[&quot;Bob&quot;, &quot;Robert&quot;],</span></span><br><span class="line"><span class="comment">#   &quot;updated_at&quot;=&gt;[2015-08-10 04:13:19 UTC, 2015-08-10 04:13:19 UTC]</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line">widget.destroy</span><br><span class="line">widget.versions.last.changeset</span><br><span class="line"><span class="comment"># &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Saving-More-Information-About-Versions"><a href="#Saving-More-Information-About-Versions" class="headerlink" title="Saving More Information About Versions"></a>Saving More Information About Versions</h3><h3 id="Storing-Metadata"><a href="#Storing-Metadata" class="headerlink" title="Storing Metadata"></a>Storing Metadata</h3><p>You can add your own custom columns to your versions table. Values can be given using Model Metadata or Controller Metadata.</p>
<h4 id="Model-Metadata"><a href="#Model-Metadata" class="headerlink" title="Model Metadata"></a>Model Metadata</h4><p>You can specify metadata in the model using has_paper_trail(meta:).</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span> &lt; ActiveRecord::Base</span></span><br><span class="line">  belongs_to <span class="symbol">:author</span></span><br><span class="line">  has_paper_trail(</span><br><span class="line">    <span class="symbol">meta:</span> &#123;</span><br><span class="line">      <span class="symbol">author_id:</span> <span class="symbol">:author_id</span>, <span class="comment"># model attribute</span></span><br><span class="line">      <span class="symbol">word_count:</span> <span class="symbol">:count_words</span>, <span class="comment"># arbitrary model method</span></span><br><span class="line">      <span class="symbol">answer:</span> <span class="number">42</span>, <span class="comment"># scalar value</span></span><br><span class="line">      <span class="symbol">editor:</span> proc &#123; <span class="params">|article|</span> article.editor.full_name &#125; <span class="comment"># a Proc</span></span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">count_words</span></span></span><br><span class="line">    <span class="number">153</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h4 id="Metadata-from-Controllers"><a href="#Metadata-from-Controllers" class="headerlink" title="Metadata from Controllers"></a>Metadata from Controllers</h4><p>You can also store any information you like from your controller. Override the info_for_paper_trail method in your controller to return a hash whose keys correspond to columns in your versions table.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApplicationController</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">info_for_paper_trail</span></span></span><br><span class="line">    &#123; <span class="symbol">ip:</span> request.remote_ip, <span class="symbol">user_agent:</span> request.user_agent &#125;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h4 id="Advantages-of-Metadata"><a href="#Advantages-of-Metadata" class="headerlink" title="Advantages of Metadata"></a>Advantages of Metadata</h4><p>Why would you do this? In this example, author_id is an attribute of Article and PaperTrail will store it anyway in a serialized form in the object column of the version record. But let’s say you wanted to pull out all versions for a particular author; without the metadata you would have to deserialize (reify) each version object to see if belonged to the author in question. Clearly this is inefficient. Using the metadata you can find just those versions you want:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PaperTrail::Version.where(<span class="symbol">author_id:</span> author_id)</span><br></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/paper-trail-gem/paper_trail">paper-trail-gem/paper_trail: Track changes to your rails models - https://github.com/paper-trail-gem/paper_trail</a></p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-acts_as_paranoid-gem-soft-delete-to-hide-and-restore-records-without-actually-deleting-them/" rel="bookmark">[Ruby on Rails (RoR)] Use ActiveRecord Plugin acts_as_paranoid gem soft delete to hide and restore records without actually deleting them</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Use-rails-jbuilder-to-generate-JSON-objects-with-a-Builder-style-DSL/" rel="bookmark">[Ruby on Rails (RoR)] Use rails jbuilder to generate JSON objects with a Builder-style DSL </a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/08/22/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-annotate-gem-to-annotate-Rails-classes-with-schema-and-routes-info/" rel="bookmark">[Ruby on Rails (RoR)] Use annotate gem to annotate Rails classes with schema and routes info</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2020/08/22/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-bullet-gem-to-annotate-Rails-classes-with-schema-and-routes-info copy/" rel="bookmark">[Ruby on Rails (RoR)] Use bullet gem to help to kill N+1 queries and unused eager loading</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/2021/01/09/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-elastic-apm-gem-to-send-Transactions-Errors-and-Metrics-data-to-Elastic-APM-Server/" rel="bookmark">[Ruby on Rails (RoR)] Use elastic-apm gem to send Transactions, Errors and Metrics data to Elastic APM Server</a></div>
    </li>
  </ul>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>CloudoLife
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://cloudolife.com/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-paper_trai-geml-to-track-changes-to-your-Rails-models/" title="[Ruby on Rails (RoR)] Use ActiveRecord Plugin paper_trail gem to track changes to your rails models">https://cloudolife.com/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-paper_trai-geml-to-track-changes-to-your-Rails-models/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/CloudoLife" rel="external nofollow noreferrer">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Rails-Ruby-on-Rails-RoR/" rel="tag"># Rails / Ruby on Rails (RoR)</a>
              <a href="/tags/Best-practices/" rel="tag"># Best practices</a>
              <a href="/tags/Ruby/" rel="tag"># Ruby</a>
              <a href="/tags/Programming-language/" rel="tag"># Programming language</a>
              <a href="/tags/Awesome-Ruby-Gem/" rel="tag"># Awesome Ruby Gem</a>
              <a href="/tags/acts-as-paranoid/" rel="tag"># acts_as_paranoid</a>
              <a href="/tags/ActiveRecord-Plugin/" rel="tag"># ActiveRecord Plugin</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/08/22/Infrastructure-as-Code-IaC/Terraform/Infrastructure-as-Code-IaC-Terraform-LDAP-Examples-about-using-Terraform-LDAP-Provider-to-manage-ldap-objects/" rel="prev" title="[Infrastructure as Code (IaC)] Terraform LDAP Examples about using Terraform LDAP Provider to manage ldap objects">
      <i class="fa fa-chevron-left"></i> [Infrastructure as Code (IaC)] Terraform LDAP Examples about using Terraform LDAP Provider to manage ldap objects
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/08/29/Programming-Language/Ruby-on-Rails-RoR/Awesome-Ruby-Gem/Use-ActiveRecord-Plugin-acts_as_paranoid-gem-soft-delete-to-hide-and-restore-records-without-actually-deleting-them/" rel="next" title="[Ruby on Rails (RoR)] Use ActiveRecord Plugin acts_as_paranoid gem soft delete to hide and restore records without actually deleting them">
      [Ruby on Rails (RoR)] Use ActiveRecord Plugin acts_as_paranoid gem soft delete to hide and restore records without actually deleting them <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



        </div>
        
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CloudoLife</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">325k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">4:56</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css">

<script>
NexT.utils.loadComments('#gitalk-container', () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'b1c6b5d7b5cb278e4f21',
      clientSecret: '8f0215ca3b1b52b0655c618d7a5f1abea452de21',
      repo        : 'gitalk.CloudoLife.github.io',
      owner       : 'CloudoLife',
      admin       : ['benjamincloudolife'],
      id          : '7e1c161a96cf3d8098c70c6b3d85fb12',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
